# lagou-e-task-02-02
1、webapck的构建流程主要有哪些环节？如果可以请尽可能详尽的描述webpack打包的整个过程
webpack的构建流程主要有加载资源文件、对资源文件进行编译、输出bundle.js文件。
流程：
  webpack读取webpack.config.js配置文件，首先以我们程序的入口文件index.js作为编译的入口文件（Entry）去构建一个模块依赖树，按照依赖进行加载和转换模块,入口文件我们可以手动指定多个，同样的，也会对应输出多个bundle.js；wenbapck只能转换js模块，然后webpack通过loader（模块加载器）处理不同类型的文件，对文件进行加载转换，每个类型的文件可以同时使用多个loader，loader执行的顺序从后往前进行加载；webpack在编译转换的过程中，通过钩子机制实现的plugin（插件）对不同类型的文件，在不同的时机对其进行相应的处理，每个插件都是一个函数或者是一个包含apply方法的对象，因此我们在配置文件中通过new 对应的插件即可；然后将编译的代码打包成一个个的chunk（代码块）最终通过指定的输出路径，在其路径下生成bundle.js。文件其实是一个立即执行函数，这个立即执行函数通所接收的参数就是所有依赖模块的数组。
  2、loader和plugin有哪些不同？
  loader是模块加载器，用来编译和转换代码；因为webpack只能转换js模块，所以webpack通过loader去转换其它类型的资源文件。
  loader思路：接收我们要进行编译转换的内容字符串，然后对其进行具体的操作，最终返回结果,通过module.exports暴露出去。
  plugin是一个插件机制，它的实现依赖于webpack生命周期中的钩子函数，通过监听钩子事件，根据需求在事件触发时对打包的内容进行相应的处理。
  plugin思路：webpack要求我们的插件必须是一个函数或者一个包含apply方法的对象，所以我们需要创建一个class，声明一个apply方法，并接收一个compiler（可以当成webpack实例），然后这个compiler通过emit钩子调用tab方法去创建我们的plugin，tab接收两个参数，分别为插件的名称和此次打包的上下文，我们最终将需要返回的内容存到这个上下文的source中。
